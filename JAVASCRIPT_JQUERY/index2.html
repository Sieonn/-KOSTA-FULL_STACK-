<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      td select,
      td input {
        width: 150px;
      }

      #diagram td {
        vertical-align: bottom;
        text-align: center;
        padding: 10px;
      }

      #diagram div {
        margin: auto;
      }
    </style>
  </head>

  <body>
    예금 이자 계산기

    <form name="calculator">
      <table>
        <tr>
          <td>예치금액</td>
          <td>
            <input name="money" type="number" value="10000" required />
          </td>
        </tr>
        <tr>
          <td>예치기간</td>
          <td>
            <select name="months">
              <option value="3">3 (최단 예치기간)</option>
              <option value="6">6 (반년)</option>
              <option value="12" selected>12 (1년)</option>
              <option value="18">18 (1.5년)</option>
              <option value="24">24 (2년)</option>
              <option value="30">30 (2.5년)</option>
              <option value="36">36 (3년)</option>
              <option value="60">60 (5년)</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>연이자율</td>
          <td>
            <input name="interest" type="number" value="5" required />
          </td>
        </tr>
      </table>
    </form>

    <table id="diagram">
      <tr>
        <th>원금</th>
        <th>만기지급금액</th>
      </tr>
      <tr>
        <th id="money-before"></th>
        <th id="money-after"></th>
      </tr>
      <td>
        <div style="background: red; width: 40px; height: 100px"></div>
      </td>
      <td>
        <div
          style="background: green; width: 40px; height: 0"
          id="height-after"
        ></div>
      </td>
    </table>

    <script>
      let form = document.forms.calculator;

      let money_e = form.elements.moeny;
      money_e.onchange = function(e) {
        calculator();
      }
      let interest_e = form.elements.interest;
      let months_s = form.elements.months;

      // your code
      function calculator() {

      let initial = +money.value;
      console.log(form.elements.moeny);
      // initial : 계산전의 잔고
      //let money = +form.elements.money;

      // interest : 이자율. 0.05는 연 5%의 이자율을 의미합니다
      let interest = +form.elements.interest / 100;

      // years: 예금 유치기간으로 연단위
      let years = form.elements.months.value / 12;
      let result = Math.round(initial * (1 + interest * years));

      // height: result / 예치금액 * 100px
      let height = (result / money) * 100 + "px";

      let money_before = document.querySelector("#money-before");
      let moeny_after = document.querySelector("#money-after");
      let height_after = document.querySelector("#height-after");
      money_before.innerHTML = money;
      moeny_after.innerHTML = result;
      height_after.style.height = height;
    </script>
  </body>
</html>
